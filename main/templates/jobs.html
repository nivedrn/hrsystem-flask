{% extends "main.html" %}

{% block content %}
<div class="container-fluid px-5">
    <h1 class="mb-4">Jobs</h1>
    
    {% if response["joblistings"].rowcount > 0 %}
    <table class="table table-sm table-hover table-bordered shadow-sm text-center mt-2">
        <thead>
            <tr class="text-center" style="background-color:#D6EAF8">
                <th scope="col" style="width:10%">Action</th>
                <th scope="col">Job Title</th>
                <th scope="col">Job Description</th>
                <th scope="col">Experience Required</th>
                <th scope="col">Job Role</th>
                <th scope="col">Job Location</th>
                <th scope="col">Listing Status</th>
            </tr>
        </thead>
        <tbody>
            {% for item in response["joblistings"] %}
            <tr>
                <td class="text-center"><a href="/jobs/listing/apply/{{item.id}}">Apply</a>
                </td>
                <td>{{item.job_title}}</td>
                <td>{{item.job_descr}}</td>
                <td>{{item.job_exp}}</td>
                <td>{{item.job_role}}</td>
                <td>{{item.job_location}}</td>
                <td>{{item.job_status}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="text-center text-muted">
        No open job listings found. Please check back another time.
    </p>
    {% endif %}
</div>
{% endblock content %}